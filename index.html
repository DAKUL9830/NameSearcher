<!DOCTYPE html>

    
    <head>
        <style>
        body{
            font-family:sans-serif;
            text-align: center;
           
        }
        img{
            width:50px;
          height:50px;
           border-radius:50px ;

        }
       
        td{
            flex:1
        }
       
     
        </style>
        <title>
            Lists
        </title>
    </head>
    <body>
        <h1>ACME USER SERCH</h1>
        <div></div>
        
        <table id='myTable'>

        </table>
        
<script>
            const renderUser=(users)=>{
                console.log(users)
                

                let html= users.map(user =>{
                    return `
                    <tr id='myTr'>
                        <td><img src ='${user.avatar}' /></td>
                        <td><a>${user.firstName}</a></td>
                        <td><a>${user.lastName}</a></td>
                        <td><a>${user.title}</a></td>
                    </tr>
                    
                    `;}).join('');
                    html=`
                    <thead>
                        <tr>
                            <th>Avatar</th>
                            <th>First</th>
                            <th>Last</th>
                            <th>Title</th>
                        </tr>
                    </thead>
                        <tbody id='myTbody'>${html}</tbody>
                    `
                    document.querySelector('table').innerHTML=html;
                    
                }
               
            const renderSearcher=()=>{
               
                let html=''
                html= `<input type="text" id="myInput" placeholder="Search for names.." title="Type in a name">`
                document.querySelector('div').innerHTML=html;

                let input=document.getElementById('myInput')
                input.addEventListener('input',(e)=>{                          //NOT WORKING!!!!!!!!!!!!!!!!
                    e.target.value;
                    fetch(`https://acme-users-api-rev.herokuapp.com/api/users/${e.target.value}`)
            .then(response => response.json())
            .then(data =>{ render(data.users)})
                    
                })
              
               
            }
           
            
            
                fetch(`https://acme-users-api-rev.herokuapp.com/api/users/${e.target.value}`)
            .then(response => response.json())
            .then(data =>{renderUser(data.users)})
            const render=(users)=>{
                    renderUser(users);
                    renderSearcher()
                }
                

                /*const myTable=document.querySelector('#myTable');

                const state={
                    searchTerm:'',
                    employees:[],
                    count:0
                }


                const thead=document.createElement('thead');
                const tr=document.createElement('tr');
                const th1=document.createElement('th')
                th1.innerText='Avatar';
                tr.append(th1);
                const th2=document.createElement('th')
                th2.innerText='First';
                tr.append(th2);
                const th3=document.createElement('th')
                th3.innerText='Last';
                tr.append(th3);
                const th4=document.createElement('th')
                th4.innerText='Title';
                tr.append(th4);
                thead.append(tr);
                myTable.append(thead);

                const div=document.querySelector('div')
              
               const input =document.createElement('input');
               input.placeholder='search for names...';
               div.append(input);
               //const myTable=document.querySelector('#myTable');

               const tbody=document.createElement('tbody');
               const tr1=document.createElement('tr');
               const td=document.createElement('td');
               tr1.append(td);
               tbody.append(tr1);
               myTable.append(tbody)

               


               fetch(`https://acme-users-api-rev.herokuapp.com/api/users`)
            .then(response => response.json())
            .then(data =>console.log(data))
            
            const render=(users)=>{
                users.map(user=>{

                    td.innerText='';
                    const a =document.createElement('a');
                    a.innerText=`${user.firstName}`;
                })
            }*/

        </script>
    </body>

</html>